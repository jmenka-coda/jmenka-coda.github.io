<!DOCTYPE html>
<html>

<head>
    <title>Paper.js Рисовалка</title>
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="/socket.io/socket.io.js"></script>
    <script src="https://unpkg.com/paper@0.12.17/dist/paper-full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paper.js/0.12.17/paper-full.min.js"></script>
    <!-- Модули для работы с canvas -->
    <script src="/js/canvas-transform.js" type="module"></script>
    <script src="/js/tool-manager.js" type="module"></script>
    <script src="/js/tools/pencil-tool.js" type="module"></script>
    <script src="/js/tools/eraser-tool.js" type="module"></script>
    <script src="/js/tools/hand-tool.js" type="module"></script>
    <script src="/js/canvas.js" type="module" defer></script>
    <script src="/js/utils/helpers.js"></script>
    <script src="/js/components/toast.js"></script>
    <script src="/js/components/modal.js"></script>
    <script src="/js/services/socket-service.js"></script>
    <script src="/js/pages/drawing-page.js"></script>

</head>

<body>
    <div class="canvas-container">
        <div class="active-users">
            <h2><i class="fas fa-list"></i> Пользователи комнаты</h2>
            <div id="usersList" class="users-grid">
                <div class="loading">
                    <i class="fas fa-spinner fa-spin"></i>
                    Загрузка пользователей...
                </div>
            </div>
        </div>
        
        <canvas id="myCanvas"></canvas>

        <div class="toolBox">
            <div class="room-info">
                <span id="roomStatus">Комната: загрузка...</span>
                <button type="button" onclick="goToRooms()" class="btn-change-room">
                    <i class="fas fa-arrow-left"></i> Сменить комнату
                </button>
            </div>
            <div class="selectColor">
                <!-- Для ЛКМ -->
                <input type="color" id="colorPickerLMB" class="color-picker-lmb" onchange="changeColorL(this.value)"
                value="#000000">
                <!-- Для ПКМ -->
                <input type="color" id="colorPickerRMB" class="color-picker-rmb" onchange="changeColorR(this.value)"
                value="#ffffff">
            </div>
            <div class="tools">
                <button type="button" class="icon-btn activ" onclick="setTool('pencil')" title="Карандаш">
                    <i class="fas fa-pencil-alt"></i>
                </button>
                <button type="button" class="icon-btn" onclick="setTool('eraser')" title="Ластик">
                    <i class="fas fa-eraser"></i>
                </button>
                <button type="button" class="icon-btn" onclick="setTool('hand')" title="Перемещение">
                    <i class="fas fa-hand-paper"></i>
                </button>
            </div>
            <div class="tool-control">
                <label for="pencilSize">Размер кисти:</label>
                <input type="range" id="pencilSize" min="1" max="20" value="3" oninput="changePencilSize(this.value)">
                <span id="sizeValue">3px</span>
            </div>
        </div>



    </div>
</body>

</html>